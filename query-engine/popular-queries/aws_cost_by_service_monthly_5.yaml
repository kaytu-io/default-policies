connectors:
- AWS
query: |-
  with ranked_costs as (
    select
      service,
      period_start,
      unblended_cost_amount::numeric::money,
      rank() over(partition by service order by unblended_cost_amount desc)
    from 
      aws_cost_by_service_monthly
  )
  select * from ranked_costs where rank = 1;
  
Title: "Steampipe Table: aws_cost_by_service_monthly - Query AWS Cost Explorer Service using SQL"
Description: "Allows users to query AWS Cost Explorer Service for monthly cost breakdown by service. This table provides details such as the service name, the cost associated with it, and the currency code."
