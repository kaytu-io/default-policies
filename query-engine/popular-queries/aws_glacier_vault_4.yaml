connectors:
- AWS
query: |-
  select
    title,
    a as action,
    s ->> 'Effect' as effect,
    s -> 'Condition' -> 'NumericLessThan' ->> 'glacier:archiveageindays' as archive_age_in_days
  from
    aws_glacier_vault,
    jsonb_array_elements(vault_lock_policy_std -> 'Statement') as s,
    jsonb_array_elements_text(s -> 'Action') as a;
  
Title: "Steampipe Table: aws_glacier_vault - Query AWS Glacier Vaults using SQL"
Description: "Allows users to query AWS Glacier Vaults for detailed information on each vault, including the vault's name, ARN, creation date, number of archives, size of archives, and more."
