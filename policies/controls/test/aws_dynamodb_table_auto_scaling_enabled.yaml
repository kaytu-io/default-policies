ID: aws_dynamodb_table_auto_scaling_enabled
Title: DynamoDB table auto scaling should be enabled
Description: AWS DynamoDB auto scaling uses the AWS Application Auto Scaling service
  to adjust provisioned throughput capacity that automatically responds to actual
  traffic patterns.
Query:
  Engine: odysseus-v0.0.1
  QueryToExecute: "    with table_with_autocaling as (\n      select\n        t.resource_id
    as resource_id,\n        count(t.resource_id) as count\n      from\n        aws_appautoscaling_target
    as t where service_namespace = 'dynamodb'\n        group by t.resource_id\n    )\n
    \   select\n      d.arn as resource,\n      case\n        when d.billing_mode
    = 'PAY_PER_REQUEST' then 'ok'\n        when t.resource_id is null then 'alarm'\n
    \       when t.count < 2 then 'alarm'\n        else 'ok'\n      end as status,\n
    \     case\n        when d.billing_mode = 'PAY_PER_REQUEST' then d.title || '
    on-demand mode enabled.'\n        when t.resource_id is null then d.title || '
    autoscaling not enabled.'\n        when t.count < 2 then d.title || ' auto scaling
    not enabled for both read and write capacity.'\n        else d.title || ' autoscaling
    enabled for both read and write capacity.'\n      end as reason\n      \n      \n
    \   from\n      aws_dynamodb_table as d\n      left join table_with_autocaling
    as t on concat('table/', d.name) = t.resource_id;\n"
  Connector:
  - aws
  PrimaryTable: ""
  ListOfTables: []
  Parameters: []
  Global: false
Tags: {}
Severity: ""
