ID: aws_autoscaling_group_with_lb_use_health_check
Title: Auto Scaling groups with a load balancer should use health checks
Description: The Elastic Load Balancer (ELB) health checks for AWS Elastic Compute Cloud (AWS EC2) Auto Scaling groups support maintenance of adequate capacity and availability.
Query:
  Engine: odysseus-v0.0.1
  QueryToExecute: |
        select
          autoscaling_group_arn as resource,
          case
            when load_balancer_names is null and target_group_arns is null then 'alarm'
            when health_check_type != 'ELB' then 'alarm'
            else 'ok'
          end as status,
          case
            when load_balancer_names is null and target_group_arns is null then title || ' not associated with a load balancer.'
            when health_check_type != 'ELB' then title || ' does not use ELB health check.'
            else title || ' uses ELB health check.'
          end as reason
          
          
        from
          aws_ec2_autoscaling_group;
  PrimaryTable: ""
  ListOfTables: []
  Parameters: []
  Global: false
Connector:
- aws
Tags: {}
Severity: ""
